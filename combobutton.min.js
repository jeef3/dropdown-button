(function(b){function a(h,m){var j=this,c=b(h),i=c.next();var g={options:{}};var f=b.extend({},g,m);var l=function(){c.on("click",e);i.on("click","li",d);b(document).on("click",k)};this.show=function(){c.addClass("options-visible")};this.hide=function(){c.removeClass("options-visible")};var e=function(n){c.toggleClass("options-visible",!c.hasClass("options-visible"))};var d=function(q){var n=b(this),p=n.data("combo-button-value"),o=p||p===0?p:false||n.attr("id")||n.text().replace(/ /g,"-");c.trigger("click.combo",[o]);j.hide()};var k=function(n){if(!c.hasClass("options-visible")||n.target===h||b.contains(i[0],n.target)){return}j.hide()};l()}b.fn.combobutton=function(c){return this.each(function(){if(!b(this).data("combobutton")){var d=new a(this,c);b(this).data("combobutton",d)}})};window.ComboButton=a})(jQuery);